{
    "name": "Eclipse S-CORE-specific Local Tools",
    "id": "s-core-local",
    "version": "1.0.0",
    "description": "Tools which are not available as already existing development container feature",
    "onCreateCommand": "/devcontainer/features/s-core-local/on_create_command.sh",
    // The repos in S-CORE may use different Bazel versions. This ensures that the required version is installed.
    // Should be removed once we provide versions of the devcontainer.
    "postCreateCommand": "if [ -f .bazelversion ] && [ \"$(cat .bazelversion)\" != \"$(dpkg --list | grep 'ii  bazel   ' | awk '{print $3}')\" ]; then sudo apt-get update && sudo apt-get install -y --allow-downgrades bazel=$(cat .bazelversion); fi",
    "mounts": [
        {
            "source": "eclipse-s-core-bazel-cache",
            "target": "/var/cache/bazel",
            "type": "volume"
        }
    ]
}
